{"ast":null,"code":"var _jsxFileName = \"/Users/ctellezesp/Documents/react/robertoyoc.com/src/chatbox.js\";\nimport React, { Component, useState, useEffect } from 'react';\nimport parse from 'html-react-parser';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Fab from '@material-ui/core/Fab';\nimport SendIcon from '@material-ui/icons/Send';\nimport './App.css';\n\nconst axios = require('axios');\n\nclass Chatbox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: [],\n      message: ''\n    };\n    this.addMessage = this.addMessage.bind(this);\n    this.postMessage = this.postMessage.bind(this);\n  }\n\n  addMessage(event) {\n    this.setState({\n      message: event.target.value\n    });\n  }\n\n  postMessage() {\n    if (this.state.message === '') {\n      alert('Message should not be empty');\n    } else {\n      this.setState({\n        messages: [...this.state.messages, {\n          message: this.state.message,\n          from: 'user'\n        }],\n        message: ''\n      });\n      console.log('fetching...');\n      axios.post('http://127.0.0.1:5002/getMessage', {\n        message: this.state.message\n      }).then(res => {\n        console.log(res.data.text);\n        this.setState({\n          messages: [...this.state.messages, {\n            message: res.data.text,\n            from: 'chatbox'\n          }]\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"msg-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"Messages\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"messages\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, this.state.messages.map((message, index) => {\n      return message.from === 'user' ? /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"from-user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: message.from === 'user' ? 'user-msg' : 'chatbot-msg',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, message.message)) : /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"from-chatbox\",\n        dangerouslySetInnerHTML: {\n          __html: message.message\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      });\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"send\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      xs: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      className: \"txt-msg\",\n      id: \"outlined-basic\",\n      label: \"Message\",\n      variant: \"outlined\",\n      value: this.state.value,\n      placeholder: \"Type your message here\",\n      onChange: this.addMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      xs: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      color: \"primary\",\n      \"aria-label\": \"send\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SendIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    })))))));\n  }\n\n}\n\nexport default Chatbox;","map":{"version":3,"sources":["/Users/ctellezesp/Documents/react/robertoyoc.com/src/chatbox.js"],"names":["React","Component","useState","useEffect","parse","Grid","TextField","Fab","SendIcon","axios","require","Chatbox","constructor","props","state","messages","message","addMessage","bind","postMessage","event","setState","target","value","alert","from","console","log","post","then","res","data","text","catch","err","render","map","index","__html"],"mappings":"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","sourcesContent":["import React, {Component, useState, useEffect} from 'react';\nimport parse from 'html-react-parser';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Fab from '@material-ui/core/Fab';\nimport SendIcon from '@material-ui/icons/Send';\nimport './App.css';\n\nconst axios = require('axios');\n\n\nclass Chatbox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: [],\n      message: ''\n    }\n    this.addMessage = this.addMessage.bind(this);\n    this.postMessage = this.postMessage.bind(this);\n  }\n\n  addMessage(event) {\n    this.setState({\n      message: event.target.value\n    });\n  }\n\n  postMessage() {\n    if(this.state.message === '') {\n      alert('Message should not be empty');\n    } else {\n      this.setState({\n        messages: [\n          ...this.state.messages,\n          {\n            message: this.state.message,\n            from: 'user'\n          }\n        ],\n        message: ''\n      });\n      console.log('fetching...');\n      axios.post('http://127.0.0.1:5002/getMessage', {\n      message: this.state.message\n      })\n      .then (res => {\n        console.log(res.data.text);\n        this.setState({\n          messages: [\n            ...this.state.messages, \n            {\n              message: res.data.text,\n              from: 'chatbox'\n            }\n          ]\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"chat\">\n        <div className=\"main\">\n          <span className=\"msg-title\">Messages</span>\n          <div className=\"messages\">\n            {this.state.messages.map((message, index) => {\n              return (\n                message.from === 'user' ? \n                <div key={index} className=\"from-user\">\n                    <p className={message.from === 'user' ? 'user-msg': 'chatbot-msg'}>{message.message}</p> \n                </div>:\n                <div key={index} className=\"from-chatbox\" dangerouslySetInnerHTML={{ __html: message.message }}></div>\n              );\n            })}\n          </div>\n          <div className=\"send\">\n              <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={2}>\n                <Grid xs={10}>\n                    <TextField className=\"txt-msg\" id=\"outlined-basic\" label=\"Message\" variant=\"outlined\" value={this.state.value} placeholder=\"Type your message here\" onChange={this.addMessage}/>\n                </Grid>\n                <Grid xs={2}>\n                    <Fab color=\"primary\" aria-label=\"send\">\n                        <SendIcon />\n                    </Fab>\n                </Grid>\n              </Grid>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Chatbox;"]},"metadata":{},"sourceType":"module"}