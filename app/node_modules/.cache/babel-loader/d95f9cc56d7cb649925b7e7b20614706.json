{"ast":null,"code":"var _jsxFileName = \"/Users/ctellezesp/Documents/react/robertoyoc.com/src/App.js\";\nimport React, { Component, useState, useEffect } from 'react';\nimport parse from 'html-react-parser';\nimport './App.css';\n\nconst axios = require('axios'); // function Chat() {\n//   const [message, setMessage] = useState('');\n//   const [messages, addMessage] = useState([]); \n//   useEffect(() => {\n//     axios.post('http://127.0.0.1:5002/getMessage', {\n//       message: \"hi\"\n//     })\n//     .then (res => {\n//       console.log(res.data.text);\n//       messages.push({\n//         message: res.data.text,\n//         from: 'chatbot'\n//       })\n//     })\n//     .catch(err => {\n//       console.log(err);\n//     });\n//   }, []);\n//   function postMessage() {\n//     if(message === '') {\n//       alert('Message should not be empty');\n//     } else {\n//       messages.push(\n//         {\n//           message: message,\n//           from: 'user'\n//         }\n//       );\n//       setMessage('');\n//       console.log('fetching...');\n//       axios.post('http://127.0.0.1:5002/getMessage', {\n//       message: message\n//       })\n//       .then (res => {\n//         console.log(res.data.text);\n//         messages.push({\n//           message: res.data.text,\n//           from: 'chatbot'\n//         });\n//       })\n//       .catch(err => {\n//         console.log(err);\n//       });\n//     }\n//   }\n//   function showData() {\n//     console.log(messages);\n//   }\n//   return (\n//     <div className=\"chat\">\n//       <div className=\"main\">\n//         <div className=\"messages\">\n//           {messages.map((message, index) => {\n//             return (\n// <div key={index} className={message.from === 'user' ? 'from-user': 'from-chatbox'}>\n//   {message.from === 'user' ? \n//     <p className={message.from === 'user' ? 'user-msg': 'chatbot-msg'}>{message.message}</p> :\n//     parse(message.message)\n//   }\n//               </div>\n//             );\n//           })}\n//         </div>\n//         <div className=\"send\">\n//           <input type=\"text\" value={message} placeholder=\"Type your message here\" onChange={(e) => setMessage(e.target.value)} />\n//           <button onClick={postMessage}><i className=\"material-icons\">send</i></button>\n//         </div>\n//       </div>\n//       <button style={{position: \"fixed\", top: \"0\", left: \"0\"}} onClick={showData}>Get Data</button>\n//     </div>\n//   );\n// }\n\n\nclass Chatbox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: [],\n      message: ''\n    };\n    this.addMessage = this.addMessage.bind(this);\n    this.postMessage = this.postMessage.bind(this);\n  }\n\n  addMessage(event) {\n    this.setState({\n      message: event.target.value\n    });\n  }\n\n  postMessage() {\n    if (this.state.message === '') {\n      alert('Message should not be empty');\n    } else {\n      this.setState({\n        messages: [...this.state.messages, {\n          message: this.state.message,\n          from: 'user'\n        }]\n      });\n      console.log('fetching...');\n      axios.post('http://127.0.0.1:5002/getMessage', {\n        message: this.state.message\n      }).then(res => {\n        console.log(res.data.text);\n        this.setState({\n          messages: [...this.state.messages, {\n            message: res.data.text,\n            from: 'chatbox'\n          }],\n          message: ''\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"messages\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, this.state.messages.map((message, index) => {\n      return message.from === 'user' ? /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"from-user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: message.from === 'user' ? 'user-msg' : 'chatbot-msg',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }\n      }, message.message)) : /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"from-chatbox\",\n        dangerouslySetInnerHTML: {\n          __html: message.message\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      });\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"send\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Type your message here\",\n      onChange: this.addMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.postMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 48\n      }\n    }, \"send\")))));\n  }\n\n}\n\nexport default Chatbox;","map":{"version":3,"sources":["/Users/ctellezesp/Documents/react/robertoyoc.com/src/App.js"],"names":["React","Component","useState","useEffect","parse","axios","require","Chatbox","constructor","props","state","messages","message","addMessage","bind","postMessage","event","setState","target","value","alert","from","console","log","post","then","res","data","text","catch","err","render","map","index","__html"],"mappings":"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","sourcesContent":["import React, {Component, useState, useEffect} from 'react';\nimport parse from 'html-react-parser';\nimport './App.css';\nconst axios = require('axios');\n\n// function Chat() {\n//   const [message, setMessage] = useState('');\n//   const [messages, addMessage] = useState([]); \n\n//   useEffect(() => {\n//     axios.post('http://127.0.0.1:5002/getMessage', {\n//       message: \"hi\"\n//     })\n//     .then (res => {\n//       console.log(res.data.text);\n//       messages.push({\n//         message: res.data.text,\n//         from: 'chatbot'\n//       })\n//     })\n//     .catch(err => {\n//       console.log(err);\n//     });\n//   }, []);\n\n//   function postMessage() {\n//     if(message === '') {\n//       alert('Message should not be empty');\n//     } else {\n//       messages.push(\n//         {\n//           message: message,\n//           from: 'user'\n//         }\n//       );\n//       setMessage('');\n//       console.log('fetching...');\n//       axios.post('http://127.0.0.1:5002/getMessage', {\n//       message: message\n//       })\n//       .then (res => {\n//         console.log(res.data.text);\n//         messages.push({\n//           message: res.data.text,\n//           from: 'chatbot'\n//         });\n//       })\n//       .catch(err => {\n//         console.log(err);\n//       });\n//     }\n//   }\n\n//   function showData() {\n//     console.log(messages);\n//   }\n\n//   return (\n//     <div className=\"chat\">\n//       <div className=\"main\">\n//         <div className=\"messages\">\n//           {messages.map((message, index) => {\n//             return (\n              // <div key={index} className={message.from === 'user' ? 'from-user': 'from-chatbox'}>\n              //   {message.from === 'user' ? \n              //     <p className={message.from === 'user' ? 'user-msg': 'chatbot-msg'}>{message.message}</p> :\n              //     parse(message.message)\n              //   }\n//               </div>\n//             );\n//           })}\n//         </div>\n//         <div className=\"send\">\n//           <input type=\"text\" value={message} placeholder=\"Type your message here\" onChange={(e) => setMessage(e.target.value)} />\n//           <button onClick={postMessage}><i className=\"material-icons\">send</i></button>\n//         </div>\n//       </div>\n//       <button style={{position: \"fixed\", top: \"0\", left: \"0\"}} onClick={showData}>Get Data</button>\n//     </div>\n//   );\n// }\n\nclass Chatbox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: [],\n      message: ''\n    }\n    this.addMessage = this.addMessage.bind(this);\n    this.postMessage = this.postMessage.bind(this);\n  }\n\n  addMessage(event) {\n    this.setState({\n      message: event.target.value\n    });\n  }\n\n  postMessage() {\n    if(this.state.message === '') {\n      alert('Message should not be empty');\n    } else {\n      this.setState({\n        messages: [\n          ...this.state.messages,\n          {\n            message: this.state.message,\n            from: 'user'\n          }\n        ]\n      });\n      console.log('fetching...');\n      axios.post('http://127.0.0.1:5002/getMessage', {\n      message: this.state.message\n      })\n      .then (res => {\n        console.log(res.data.text);\n        this.setState({\n          messages: [\n            ...this.state.messages, \n            {\n              message: res.data.text,\n              from: 'chatbox'\n            }\n          ],\n          message: ''\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"chat\">\n        <div className=\"main\">\n          <div className=\"messages\">\n            {this.state.messages.map((message, index) => {\n              return (\n                message.from === 'user' ? \n                <div key={index} className=\"from-user\">\n                    <p className={message.from === 'user' ? 'user-msg': 'chatbot-msg'}>{message.message}</p> \n                </div>:\n                <div key={index} className=\"from-chatbox\" dangerouslySetInnerHTML={{ __html: message.message }}></div>\n              );\n            })}\n          </div>\n          <div className=\"send\">\n            <input type=\"text\" placeholder=\"Type your message here\" onChange={this.addMessage} />\n            <button onClick={this.postMessage}><i className=\"material-icons\">send</i></button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Chatbox;"]},"metadata":{},"sourceType":"module"}